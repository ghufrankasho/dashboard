<!DOCTYPE html>
<html lang="ar">
	<meta charset="UTF-8">
<!-- HEADER -->
<div id="header-placeholder"></div>
<script>
	fetch('/headerproject.html')
		.then(response => response.text())
		.then(text => document.getElementById('header-placeholder').innerHTML = text);
</script>
<!-- HEADER -->

<body>



	<!-- SIDEBAR -->
	<section id="sidebar">
		<!-- sidebar -->
		<div id="sidebar-placeholder"></div>
		<script>
			fetch('/sidebar.html')
    .then(response => response.text())
    .then(text => {
        document.getElementById('sidebar-placeholder').innerHTML = text;

        const allSideMenu = document.querySelectorAll('.side-menu.top li a');

        // Check current page and highlight the active link based on the URL path
        const currentPage = window.location.pathname;
        allSideMenu.forEach(item => {
            if (item.getAttribute('href') === currentPage) {
                item.parentElement.classList.add('active');
            }
        });

        allSideMenu.forEach(item => {
            const li = item.parentElement;
            item.addEventListener('click', function (e) {
                // Prevent default only for testing if the page reload should be avoided
                // e.preventDefault(); // Uncomment this line for a single-page application

                allSideMenu.forEach(i => i.parentElement.classList.remove('active'));
                li.classList.add('active');

                // Optional: Save active page for persistence (SPA usage only)
                localStorage.setItem('activePage', item.getAttribute('href'));
            });
        });
    });

		</script>
		<!-- sidebar -->
	</section>
	<!-- SIDEBAR -->

	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<!-- NAV BAR -->
		<div id="nav-placeholder"></div>
		<script>
			fetch('/nav.html')
				.then(response => response.text())
				.then(text => {document.getElementById('nav-placeholder').innerHTML = text;
			let admin=	 JSON.parse(localStorage.getItem('Admin'));
			 

			// Handle Dark Mode
			const switchMode = document.getElementById('switch-mode');
			const body = document.body;

			// Check localStorage for saved theme preference
			const savedMode = localStorage.getItem('theme');
			if (savedMode === 'dark') {
			  body.classList.add('dark');
			  switchMode.checked = true;
			} else {
			  body.classList.remove('dark');
			  switchMode.checked = false;
			}

			// Toggle dark mode on checkbox change
			switchMode.addEventListener('change', function() {
			  if (this.checked) {
				body.classList.add('dark');
				localStorage.setItem('theme', 'dark');
			  } else {
				body.classList.remove('dark');
				localStorage.setItem('theme', 'light');
			  }
			});
					
		 
		
			// TOGGLE SIDEBAR
			const menuBar = document.querySelector('#content nav .bx.bx-menu');
			const sidebar = document.getElementById('sidebar');

			menuBar.addEventListener('click', function () {
				sidebar.classList.toggle('hide');
			});
			});
		</script>
		<!-- NAV BAR -->
		<!-- NAVBAR -->



		<section class="project">
			<main>
			
			<div class="head-title">
				<div class="left">
					<h1>> الادوية </h1>
					<ul class="breadcrumb">
						<li>
							<a href="/home.html"  class="active">لوحة التحكم </a>
						</li>
						<li><i class='bx bx-chevron-right' ></i></li>
						<li>
							<a class="active" href="#">الادوية</a>
						</li>
					</ul>
				</div>
				
			</div>
			<header class="head">
				
				<div class="h d-flex" role="search" dir="rtl">
					<input class="form-control me-2 p-2" id="search_input" type="search" placeholder="بحث"
						aria-label="Search">
					<a class="nav-link align-items-center" id="search" type="submit"> <svg
							xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
							class="bi bi-search" viewBox="0 0 16 16">
							<path
								d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
						</svg>
					</a>
					<a class="nav-link d-flex">
						<a href="/medicine/addMedicine.html"> <i class='bx bx-plus'></i></a>
					</a>
				</div>
			</header>
			<div class="container" id="projects">

			</div>
		</main>
		</section>
		
		<script src="/js/script.js"></script>
		<script src="/js/medicine/project.js"></script>
		<script>
			// script.js - Dark Mode Handling
			document.addEventListener('DOMContentLoaded', function () {
				const switchMode = document.getElementById('switch-mode');
				const body = document.body;
			
				// Check localStorage for saved theme preference
				const savedMode = localStorage.getItem('theme');
				if (savedMode === 'dark') {
					body.classList.add('dark'); // Apply dark mode
					switchMode.checked = true;  // Ensure the checkbox is checked
				} else {
					body.classList.remove('dark'); // Apply light mode
					switchMode.checked = false;   // Ensure the checkbox is unchecked
				}
			
				// Toggle dark mode on checkbox change
				switchMode.addEventListener('change', function () {
					if (this.checked) {
						body.classList.add('dark'); // Enable dark mode
						localStorage.setItem('theme', 'dark'); // Save preference
					} else {
						body.classList.remove('dark'); // Disable dark mode
						localStorage.setItem('theme', 'light'); // Save preference
					}
				});
			});</script>
</body>

</html>